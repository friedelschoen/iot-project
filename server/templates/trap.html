{% extends "layout.html" %}
{% block content %}
<script type="text/javascript">
    socket.on('trap-change', function (data) {
        if (data['user'] == current_user)
            location.reload();
    });
</script>

{% for trap in traps %}
<article class="media content-section">
    <div class="media-body">
        <h3><a class="article-title" href="{{ url_for('trap_update', trap_id=trap.mac) }}">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="{{ trap.status_color() }}"
                    class="bi bi-circle-fill" viewBox="0 0 20 20">
                    <circle cx="10" cy="10" r="10" />
                </svg>
                -
                {% if trap.name %}
                {{ trap.name }}
                {% else %}
                <code>[{{ trap.pretty_mac() }}]</code>
                {% endif %}
            </a>
        </h3>
        {% if trap.name %}
        <p>
            <code>[{{ trap.pretty_mac() }}]</code>
        </p>
        {% endif %}
        {% if trap.owner %}
        <b>
            van {{ trap.owner_class().name }}
        </b>
        {% endif %}
    </div>

    {#} <div class="media-body">
        <h3>Naam: {{ trap.name }}</h3>
        <p> Mac adres: {{ trap.mac }} </p>
        {% if trap.caught %}
        <p> Status: Gevangen! </p>
        {% else %}
        <p>Status: Leeg!</p>
        {% endif %}
    </div>{#}
</article>
{% endfor %}
{% endblock content %}